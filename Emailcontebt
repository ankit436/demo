import smtplib
from email.mime.multipart import MIMEMultipart
from email.mime.text import MIMEText

def send_email(card):
    # Format the email content with card details
    email_body = f"""
    Dear Team,

    A new card has been created with the following details:

    - **Ado Project Name**: {card['ado_project_name']}
    - **Opportunity ID**: {card['opportunity_id']}
    - **Program**: {card['program']}
    - **Phase**: {card['phase']}
    - **Region**: {card['region']}
    - **Standardized Benefit Type**: {card['standardized_benefit_type']}
    - **Project Status**: {card['status']}
    - **IT Owner**: {card['it_owner']}
    - **Business EVP**: {card['business_evp']}
    - **Sponsor**: {card['sponsor']}
    - **Project Description**: {card['project_description']}

    Please feel free to reach out if you need more information.

    Best regards,
    Your Name
    """

    # Set up the email parameters
    sender_email = "your_email@example.com"
    receiver_email = "recipient@example.com"
    subject = f"New Card Created: {card['name']}"
    
    # Create email
    msg = MIMEMultipart()
    msg['From'] = sender_email
    msg['To'] = receiver_email
    msg['Subject'] = subject

    # Attach the body to the email
    msg.attach(MIMEText(email_body, 'html'))

    # Send the email via SMTP (dummy SMTP for example)
    try:
        with smtplib.SMTP('smtp.example.com', 587) as server:
            server.starttls()
            server.login(sender_email, 'your_password')
            server.sendmail(sender_email, receiver_email, msg.as_string())
            print("Email sent successfully!")
    except Exception as e:
        print(f"Failed to send email: {e}")
