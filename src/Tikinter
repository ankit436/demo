import tkinter as tk
from tkinter import ttk, messagebox
import threading
import time

class MyApp:
    def __init__(self, root):
        self.root = root

        # Set the window size to 600x400
        window_width = 600
        window_height = 400
        screen_width = root.winfo_screenwidth()
        screen_height = root.winfo_screenheight()

        x_position = (screen_width - window_width) // 2
        y_position = (screen_height - window_height) // 2

        # Set the window position to center
        root.geometry(f"{window_width}x{window_height}+{x_position}+{y_position}")

        # Lock the window size
        root.resizable(width=False, height=False)

        # Create the main UI components
        self.create_ui()

    def create_ui(self):
        # Frame 1 as a LabelFrame, taking up the whole width
        frame1 = ttk.LabelFrame(self.root, text="Frame 1", padding=25)
        frame1.grid(row=0, column=0, padx=(25, 25), pady=10, sticky="ew")  # Added padx for left and right padding

        # Submit button at the bottom right with equal padding
        submit_button = ttk.Button(self.root, text="Submit", command=self.file_copy_progress)
        submit_button.grid(row=2, column=0, padx=(25, 25), pady=(10, 25), sticky="se")  # Added padx and pady

    def simulate_file_copy(self, progress_var, remaining_progress_var, file_copy_window):
        # Simulate file copy progress (adjust as needed)
        for i in range(101):
            progress_var.set(i)
            remaining_progress_var.set(100 - i)
            file_copy_window.update_idletasks()
            time.sleep(0.1)

        # Close the file copy window
        file_copy_window.destroy()

        # Show the main UI
        self.root.deiconify()

        # Add the action you want to perform on submit
        messagebox.showinfo("Submit", "Form Submitted!")

    def file_copy_progress(self):
        # Create a Toplevel window for the file copy progress
        file_copy_window = tk.Toplevel(self.root)
        file_copy_window.title("File Copy Progress")

        # Progress bar widgets
        progress_var = tk.DoubleVar()
        remaining_progress_var = tk.DoubleVar()

        progress_bar = ttk.Progressbar(file_copy_window, length=400, mode="determinate", variable=progress_var)
        progress_bar.grid(row=0, column=0, padx=20, pady=20, sticky="ew")

        remaining_progress_bar = ttk.Progressbar(file_copy_window, length=400, mode="determinate", variable=remaining_progress_var)
        remaining_progress_bar.grid(row=1, column=0, padx=20, pady=10, sticky="ew")

        # Start a new thread for the file copy progress
        threading.Thread(target=self.simulate_file_copy, args=(progress_var, remaining_progress_var, file_copy_window)).start()

        # Hide the main UI
        self.root.iconify()

if __name__ == "__main__":
    root = tk.Tk()
    app = MyApp(root)
    root.mainloop()
